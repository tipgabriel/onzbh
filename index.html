<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horários de Ônibus - Belo Horizonte</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#171717',
                    }
                }
            }
        }
    </script>
    <style>
        .hero-section {
            background: linear-gradient(rgba(23, 23, 23, 0.85), rgba(23, 23, 23, 0.9)), 
                        url('volvo.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            min-height: 70vh;
            display: flex;
            align-items: center;
            position: relative;
        }
        .search-container {
            backdrop-filter: blur(5px);
            background-color: rgba(255, 255, 255, 0.9);
        }
        .favorite-btn {
            transition: all 0.3s ease;
        }
        .favorite-btn:hover {
            transform: scale(1.1);
        }
        .favorite-btn.active {
            color: #ef4444;
        }
        .real-time-badge {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col min-h-screen">
    <!-- Header -->
    <header class="bg-primary text-white shadow-md relative">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <h1 class="text-xl font-bold">ÔNZBH</h1>
            </div>
            <nav class="hidden md:block">
                <ul class="flex space-x-6">
                    <li><a href="#inicio" class="hover:text-gray-300 nav-link">Início</a></li>
                    <li><a href="#linhas" class="hover:text-gray-300 nav-link">Linhas</a></li>
                    <li><a href="#tempo-real" class="hover:text-gray-300 nav-link">Tempo Real</a></li>
                    <li><a href="#favoritos" class="hover:text-gray-300 nav-link">Favoritos</a></li>
                    <li><a href="#ajuda" class="hover:text-gray-300 nav-link">Ajuda</a></li>
                </ul>
            </nav>
            <button id="menuToggle" class="md:hidden">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>
        
        <!-- Menu Mobile -->
        <div id="mobileMenu" class="md:hidden absolute top-full left-0 w-full bg-primary shadow-lg hidden z-10">
            <ul class="py-2">
                <li><a href="#inicio" class="block px-4 py-2 hover:bg-gray-800 nav-link">Início</a></li>
                <li><a href="#linhas" class="block px-4 py-2 hover:bg-gray-800 nav-link">Linhas</a></li>
                <li><a href="#tempo-real" class="block px-4 py-2 hover:bg-gray-800 nav-link">Tempo Real</a></li>
                <li><a href="#favoritos" class="block px-4 py-2 hover:bg-gray-800 nav-link">Favoritos</a></li>
                <li><a href="#ajuda" class="block px-4 py-2 hover:bg-gray-800 nav-link">Ajuda</a></li>
            </ul>
        </div>
    </header>

    <!-- Hero Section with Search -->
    <section id="inicio" class="hero-section">
        <div class="container mx-auto px-4 w-full">
            <div class="max-w-3xl mx-auto text-center mb-8">
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">Encontre os horários de ônibus em Belo Horizonte</h2>
                <p class="text-lg text-gray-200">Consulte horários, itinerários e informações das linhas de ônibus da capital mineira</p>
            </div>
            
            <div class="max-w-2xl mx-auto">
                <div class="search-container rounded-lg p-6 shadow-lg">
                    <div class="flex flex-col md:flex-row gap-3">
                        <div class="flex-grow">
                            <input type="text" id="searchInput" placeholder="Digite o número ou nome da linha" 
                                   class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary">
                        </div>
                        <button id="searchButton" class="bg-primary hover:bg-gray-800 text-white px-6 py-3 rounded-lg font-medium transition duration-200">
                            Buscar
                        </button>
                    </div>
                </div>
                
                <div class="mt-4 text-center">
                    <p class="text-gray-200 text-sm">Ou <a href="#linhas" class="underline font-medium nav-link">consulte as linhas por bairro</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 flex-grow">
        <!-- Search Results -->
        <div id="searchResults" class="mb-8 hidden">
            <h2 class="text-2xl font-bold mb-4">Resultados da Busca</h2>
            <div id="resultsList" class="bg-white rounded-lg shadow-md p-4">
                <!-- Results will be populated by JavaScript -->
            </div>
        </div>

        <!-- Real Time Section -->
        <section id="tempo-real" class="mb-12">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-2xl font-bold">Horários em Tempo Real</h2>
                <span class="real-time-badge bg-green-100 text-green-800 text-xs font-medium px-3 py-1 rounded-full flex items-center">
                    <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
                    Atualizando em tempo real
                </span>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white rounded-lg shadow-md p-5 hover:shadow-lg transition duration-200">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h3 class="text-xl font-bold">5101 - Savassi</h3>
                            <p class="text-gray-600 text-sm">Centro ↔ Savassi</p>
                        </div>
                        <button class="favorite-btn text-gray-400 hover:text-red-500" data-line="5101">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <div class="flex justify-between text-sm text-gray-500 mb-2">
                            <span>Próximo ônibus:</span>
                            <span class="font-bold text-green-600" id="next-5101">8 min</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500">
                            <span>Segundo ônibus:</span>
                            <span class="font-medium" id="second-5101">15 min</span>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 p-3 rounded-lg">
                        <h4 class="font-bold text-gray-800 text-sm mb-2">Próximas paradas:</h4>
                        <div class="space-y-1 text-xs text-gray-600">
                            <div class="flex justify-between">
                                <span>Praça Sete</span>
                                <span class="font-medium">2 min</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Av. do Contorno</span>
                                <span class="font-medium">5 min</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Rua da Bahia</span>
                                <span class="font-medium">8 min</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-5 hover:shadow-lg transition duration-200">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h3 class="text-xl font-bold">2102 - Santa Efigênia</h3>
                            <p class="text-gray-600 text-sm">Centro ↔ Santa Efigênia</p>
                        </div>
                        <button class="favorite-btn text-gray-400 hover:text-red-500" data-line="2102">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <div class="flex justify-between text-sm text-gray-500 mb-2">
                            <span>Próximo ônibus:</span>
                            <span class="font-bold text-green-600" id="next-2102">5 min</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500">
                            <span>Segundo ônibus:</span>
                            <span class="font-medium" id="second-2102">12 min</span>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 p-3 rounded-lg">
                        <h4 class="font-bold text-gray-800 text-sm mb-2">Próximas paradas:</h4>
                        <div class="space-y-1 text-xs text-gray-600">
                            <div class="flex justify-between">
                                <span>Praça Sete</span>
                                <span class="font-medium">1 min</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Av. Amazonas</span>
                                <span class="font-medium">4 min</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Rua dos Tamoios</span>
                                <span class="font-medium">7 min</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-5 hover:shadow-lg transition duration-200">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h3 class="text-xl font-bold">9201 - Pampulha</h3>
                            <p class="text-gray-600 text-sm">Centro ↔ Pampulha</p>
                        </div>
                        <button class="favorite-btn text-gray-400 hover:text-red-500" data-line="9201">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <div class="flex justify-between text-sm text-gray-500 mb-2">
                            <span>Próximo ônibus:</span>
                            <span class="font-bold text-green-600" id="next-9201">12 min</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500">
                            <span>Segundo ônibus:</span>
                            <span class="font-medium" id="second-9201">20 min</span>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 p-3 rounded-lg">
                        <h4 class="font-bold text-gray-800 text-sm mb-2">Próximas paradas:</h4>
                        <div class="space-y-1 text-xs text-gray-600">
                            <div class="flex justify-between">
                                <span>Praça Sete</span>
                                <span class="font-medium">3 min</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Av. do Contorno</span>
                                <span class="font-medium">7 min</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Av. Antônio Carlos</span>
                                <span class="font-medium">11 min</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Popular Lines -->
        <section id="linhas" class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Linhas Populares</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white rounded-lg shadow-md p-5 hover:shadow-lg transition duration-200">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h3 class="text-xl font-bold">5101 - Savassi</h3>
                            <p class="text-gray-600">Centro ↔ Savassi</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">Ativa</span>
                            <button class="favorite-btn text-gray-400 hover:text-red-500" data-line="5101">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="flex justify-between text-sm text-gray-500">
                        <span>Frequência: 10 min</span>
                        <span>Operação: 05:00 - 00:00</span>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-5 hover:shadow-lg transition duration-200">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h3 class="text-xl font-bold">2102 - Santa Efigênia</h3>
                            <p class="text-gray-600">Centro ↔ Santa Efigênia</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">Ativa</span>
                            <button class="favorite-btn text-gray-400 hover:text-red-500" data-line="2102">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="flex justify-between text-sm text-gray-500">
                        <span>Frequência: 15 min</span>
                        <span>Operação: 05:30 - 23:30</span>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-5 hover:shadow-lg transition duration-200">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h3 class="text-xl font-bold">9201 - Pampulha</h3>
                            <p class="text-gray-600">Centro ↔ Pampulha</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">Ativa</span>
                            <button class="favorite-btn text-gray-400 hover:text-red-500" data-line="9201">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="flex justify-between text-sm text-gray-500">
                        <span>Frequência: 12 min</span>
                        <span>Operação: 05:00 - 00:30</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Favorites Section -->
        <section id="favoritos" class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Linhas Favoritas</h2>
            <div id="favoritesList" class="bg-white rounded-lg shadow-md p-6">
                <div class="text-center py-8" id="emptyFavorites">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                    </svg>
                    <p class="text-gray-600">Nenhuma linha favoritada ainda.</p>
                    <p class="text-gray-500 text-sm mt-2">Clique no ícone de coração nas linhas para adicionar aos favoritos.</p>
                </div>
                <div id="favoritesContent" class="hidden">
                    <!-- Favorited lines will appear here -->
                </div>
            </div>
        </section>

        <!-- Help Section -->
        <section id="ajuda" class="mb-12">
            <h2 class="text-2xl font-bold mb-4">Ajuda</h2>
            <div class="bg-white rounded-lg shadow-md p-6">
                <div class="space-y-4">
                    <div>
                        <h3 class="text-lg font-bold mb-2">Como usar o site</h3>
                        <p class="text-gray-600">Digite o número ou nome da linha no campo de busca para encontrar informações sobre horários e itinerários.</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold mb-2">Problemas comuns</h3>
                        <ul class="list-disc pl-5 text-gray-600 space-y-1">
                            <li>Verifique se digitou corretamente o número da linha</li>
                            <li>Tente buscar pelo nome do bairro ou região</li>
                            <li>Entre em contato conosco se o problema persistir</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold mb-2">Contato</h3>
                        <p class="text-gray-600">Email: contato@onzbh.com.br</p>
                        <p class="text-gray-600">Telefone: (31) 3429-0000</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Line Details (Hidden by default) -->
        <section id="lineDetails" class="hidden">
            <h2 class="text-2xl font-bold mb-4">Detalhes da Linha</h2>
            <div class="bg-white rounded-lg shadow-md p-6">
                <div id="detailContent">
                    <!-- Line details will be populated by JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-primary text-white py-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-bold mb-4">ÔNZBH</h3>
                    <p class="text-gray-400">Informações atualizadas sobre as linhas de ônibus de Belo Horizonte.</p>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Links Úteis</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">BHTRANS</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Mapa das Linhas</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Tarifas</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Contato</h3>
                    <p class="text-gray-400">Email: contato@onzbh.com.br</p>
                    <p class="text-gray-400">Telefone: (31) 3429-0000</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400">
                <p id="copyright">&copy; 2023 ÔNZBH. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Sample data for bus lines
        const busLines = [
            {
                id: 1,
                number: "5101",
                name: "Savassi",
                route: "Centro ↔ Savassi",
                status: "active",
                frequency: "10 minutos",
                operation: "05:00 - 00:00",
                itinerary: ["Praça Sete", "Av. do Contorno", "Rua da Bahia", "Savassi"],
                schedule: {
                    weekdays: ["05:00", "05:10", "05:20", "05:30", "05:40", "05:50", "06:00", "06:10", "06:20", "06:30", "06:40", "06:50", "07:00", "07:10", "07:20", "07:30", "07:40", "07:50", "08:00", "08:10", "08:20", "08:30", "08:40", "08:50", "09:00", "09:10", "09:20", "09:30", "09:40", "09:50", "10:00", "10:10", "10:20", "10:30", "10:40", "10:50", "11:00", "11:10", "11:20", "11:30", "11:40", "11:50", "12:00", "12:10", "12:20", "12:30", "12:40", "12:50", "13:00", "13:10", "13:20", "13:30", "13:40", "13:50", "14:00", "14:10", "14:20", "14:30", "14:40", "14:50", "15:00", "15:10", "15:20", "15:30", "15:40", "15:50", "16:00", "16:10", "16:20", "16:30", "16:40", "16:50", "17:00", "17:10", "17:20", "17:30", "17:40", "17:50", "18:00", "18:10", "18:20", "18:30", "18:40", "18:50", "19:00", "19:10", "19:20", "19:30", "19:40", "19:50", "20:00", "20:10", "20:20", "20:30", "20:40", "20:50", "21:00", "21:10", "21:20", "21:30", "21:40", "21:50", "22:00", "22:10", "22:20", "22:30", "22:40", "22:50", "23:00", "23:10", "23:20", "23:30", "23:40", "23:50", "00:00"],
                    saturdays: ["05:00", "05:15", "05:30", "05:45", "06:00", "06:15", "06:30", "06:45", "07:00", "07:15", "07:30", "07:45", "08:00", "08:15", "08:30", "08:45", "09:00", "09:15", "09:30", "09:45", "10:00", "10:15", "10:30", "10:45", "11:00", "11:15", "11:30", "11:45", "12:00", "12:15", "12:30", "12:45", "13:00", "13:15", "13:30", "13:45", "14:00", "14:15", "14:30", "14:45", "15:00", "15:15", "15:30", "15:45", "16:00", "16:15", "16:30", "16:45", "17:00", "17:15", "17:30", "17:45", "18:00", "18:15", "18:30", "18:45", "19:00", "19:15", "19:30", "19:45", "20:00", "20:15", "20:30", "20:45", "21:00", "21:15", "21:30", "21:45", "22:00", "22:15", "22:30", "22:45", "23:00", "23:15", "23:30", "23:45", "00:00"],
                    sundays: ["06:00", "06:20", "06:40", "07:00", "07:20", "07:40", "08:00", "08:20", "08:40", "09:00", "09:20", "09:40", "10:00", "10:20", "10:40", "11:00", "11:20", "11:40", "12:00", "12:20", "12:40", "13:00", "13:20", "13:40", "14:00", "14:20", "14:40", "15:00", "15:20", "15:40", "16:00", "16:20", "16:40", "17:00", "17:20", "17:40", "18:00", "18:20", "18:40", "19:00", "19:20", "19:40", "20:00", "20:20", "20:40", "21:00", "21:20", "21:40", "22:00", "22:20", "22:40", "23:00", "23:20", "23:40", "00:00"]
                }
            },
            {
                id: 2,
                number: "2102",
                name: "Santa Efigênia",
                route: "Centro ↔ Santa Efigênia",
                status: "active",
                frequency: "15 minutos",
                operation: "05:30 - 23:30",
                itinerary: ["Praça Sete", "Av. Amazonas", "Rua dos Tamoios", "Santa Efigênia"],
                schedule: {
                    weekdays: ["05:30", "05:45", "06:00", "06:15", "06:30", "06:45", "07:00", "07:15", "07:30", "07:45", "08:00", "08:15", "08:30", "08:45", "09:00", "09:15", "09:30", "09:45", "10:00", "10:15", "10:30", "10:45", "11:00", "11:15", "11:30", "11:45", "12:00", "12:15", "12:30", "12:45", "13:00", "13:15", "13:30", "13:45", "14:00", "14:15", "14:30", "14:45", "15:00", "15:15", "15:30", "15:45", "16:00", "16:15", "16:30", "16:45", "17:00", "17:15", "17:30", "17:45", "18:00", "18:15", "18:30", "18:45", "19:00", "19:15", "19:30", "19:45", "20:00", "20:15", "20:30", "20:45", "21:00", "21:15", "21:30", "21:45", "22:00", "22:15", "22:30", "22:45", "23:00", "23:15", "23:30"],
                    saturdays: ["05:30", "05:50", "06:10", "06:30", "06:50", "07:10", "07:30", "07:50", "08:10", "08:30", "08:50", "09:10", "09:30", "09:50", "10:10", "10:30", "10:50", "11:10", "11:30", "11:50", "12:10", "12:30", "12:50", "13:10", "13:30", "13:50", "14:10", "14:30", "14:50", "15:10", "15:30", "15:50", "16:10", "16:30", "16:50", "17:10", "17:30", "17:50", "18:10", "18:30", "18:50", "19:10", "19:30", "19:50", "20:10", "20:30", "20:50", "21:10", "21:30", "21:50", "22:10", "22:30", "22:50", "23:10", "23:30"],
                    sundays: ["06:00", "06:30", "07:00", "07:30", "08:00", "08:30", "09:00", "09:30", "10:00", "10:30", "11:00", "11:30", "12:00", "12:30", "13:00", "13:30", "14:00", "14:30", "15:00", "15:30", "16:00", "16:30", "17:00", "17:30", "18:00", "18:30", "19:00", "19:30", "20:00", "20:30", "21:00", "21:30", "22:00", "22:30", "23:00", "23:30"]
                }
            },
            {
                id: 3,
                number: "9201",
                name: "Pampulha",
                route: "Centro ↔ Pampulha",
                status: "active",
                frequency: "12 minutos",
                operation: "05:00 - 00:30",
                itinerary: ["Praça Sete", "Av. do Contorno", "Av. Antônio Carlos", "Pampulha"],
                schedule: {
                    weekdays: ["05:00", "05:12", "05:24", "05:36", "05:48", "06:00", "06:12", "06:24", "06:36", "06:48", "07:00", "07:12", "07:24", "07:36", "07:48", "08:00", "08:12", "08:24", "08:36", "08:48", "09:00", "09:12", "09:24", "09:36", "09:48", "10:00", "10:12", "10:24", "10:36", "10:48", "11:00", "11:12", "11:24", "11:36", "11:48", "12:00", "12:12", "12:24", "12:36", "12:48", "13:00", "13:12", "13:24", "13:36", "13:48", "14:00", "14:12", "14:24", "14:36", "14:48", "15:00", "15:12", "15:24", "15:36", "15:48", "16:00", "16:12", "16:24", "16:36", "16:48", "17:00", "17:12", "17:24", "17:36", "17:48", "18:00", "18:12", "18:24", "18:36", "18:48", "19:00", "19:12", "19:24", "19:36", "19:48", "20:00", "20:12", "20:24", "20:36", "20:48", "21:00", "21:12", "21:24", "21:36", "21:48", "22:00", "22:12", "22:24", "22:36", "22:48", "23:00", "23:12", "23:24", "23:36", "23:48", "00:00", "00:12", "00:24"],
                    saturdays: ["05:00", "05:15", "05:30", "05:45", "06:00", "06:15", "06:30", "06:45", "07:00", "07:15", "07:30", "07:45", "08:00", "08:15", "08:30", "08:45", "09:00", "09:15", "09:30", "09:45", "10:00", "10:15", "10:30", "10:45", "11:00", "11:15", "11:30", "11:45", "12:00", "12:15", "12:30", "12:45", "13:00", "13:15", "13:30", "13:45", "14:00", "14:15", "14:30", "14:45", "15:00", "15:15", "15:30", "15:45", "16:00", "16:15", "16:30", "16:45", "17:00", "17:15", "17:30", "17:45", "18:00", "18:15", "18:30", "18:45", "19:00", "19:15", "19:30", "19:45", "20:00", "20:15", "20:30", "20:45", "21:00", "21:15", "21:30", "21:45", "22:00", "22:15", "22:30", "22:45", "23:00", "23:15", "23:30", "23:45", "00:00", "00:15", "00:30"],
                    sundays: ["06:00", "06:20", "06:40", "07:00", "07:20", "07:40", "08:00", "08:20", "08:40", "09:00", "09:20", "09:40", "10:00", "10:20", "10:40", "11:00", "11:20", "11:40", "12:00", "12:20", "12:40", "13:00", "13:20", "13:40", "14:00", "14:20", "14:40", "15:00", "15:20", "15:40", "16:00", "16:20", "16:40", "17:00", "17:20", "17:40", "18:00", "18:20", "18:40", "19:00", "19:20", "19:40", "20:00", "20:20", "20:40", "21:00", "21:20", "21:40", "22:00", "22:20", "22:40", "23:00", "23:20", "23:40", "00:00", "00:20"]
                }
            }
        ];

        // DOM elements
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const searchResults = document.getElementById('searchResults');
        const resultsList = document.getElementById('resultsList');
        const lineDetails = document.getElementById('lineDetails');
        const detailContent = document.getElementById('detailContent');
        const menuToggle = document.getElementById('menuToggle');
        const mobileMenu = document.getElementById('mobileMenu');
        const copyright = document.getElementById('copyright');
        const favoritesList = document.getElementById('favoritesList');
        const emptyFavorites = document.getElementById('emptyFavorites');
        const favoritesContent = document.getElementById('favoritesContent');

        // Favorites management
        let favorites = JSON.parse(localStorage.getItem('favorites')) || [];

        // Update copyright year automatically
        function updateCopyright() {
            const currentYear = new Date().getFullYear();
            copyright.textContent = `© ${currentYear} ÔNZBH. Todos os direitos reservados.`;
        }

        // Menu Hamburger functionality
        menuToggle.addEventListener('click', function(e) {
            e.stopPropagation();
            mobileMenu.classList.toggle('hidden');
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            if (!menuToggle.contains(event.target) && !mobileMenu.contains(event.target)) {
                mobileMenu.classList.add('hidden');
            }
        });

        // Navigation functionality
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                
                if (targetElement) {
                    // Close mobile menu if open
                    mobileMenu.classList.add('hidden');
                    
                    // Smooth scroll to target
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Real-time updates simulation
        function simulateRealTimeUpdates() {
            const lines = ['5101', '2102', '9201'];
            
            lines.forEach(line => {
                const nextElement = document.getElementById(`next-${line}`);
                const secondElement = document.getElementById(`second-${line}`);
                
                if (nextElement && secondElement) {
                    // Simulate small time changes
                    const currentNext = parseInt(nextElement.textContent);
                    const currentSecond = parseInt(secondElement.textContent);
                    
                    if (currentNext > 1) {
                        nextElement.textContent = `${currentNext - 1} min`;
                        secondElement.textContent = `${currentSecond - 1} min`;
                    } else {
                        // Reset when bus arrives
                        nextElement.textContent = `${8 + Math.floor(Math.random() * 5)} min`;
                        secondElement.textContent = `${15 + Math.floor(Math.random() * 5)} min`;
                    }
                }
            });
        }

        // Favorite functionality
        function initializeFavorites() {
            // Update all favorite buttons
            document.querySelectorAll('.favorite-btn').forEach(btn => {
                const lineNumber = btn.getAttribute('data-line');
                if (favorites.includes(lineNumber)) {
                    btn.classList.add('active');
                    btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                    </svg>`;
                }
                
                btn.addEventListener('click', function() {
                    toggleFavorite(lineNumber, this);
                });
            });
            
            updateFavoritesDisplay();
        }

        function toggleFavorite(lineNumber, button) {
            if (favorites.includes(lineNumber)) {
                // Remove from favorites
                favorites = favorites.filter(fav => fav !== lineNumber);
                button.classList.remove('active');
                button.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                </svg>`;
            } else {
                // Add to favorites
                favorites.push(lineNumber);
                button.classList.add('active');
                button.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                </svg>`;
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            updateFavoritesDisplay();
        }

        function updateFavoritesDisplay() {
            if (favorites.length === 0) {
                emptyFavorites.classList.remove('hidden');
                favoritesContent.classList.add('hidden');
            } else {
                emptyFavorites.classList.add('hidden');
                favoritesContent.classList.remove('hidden');
                
                // Display favorite lines
                const favoriteLines = busLines.filter(line => favorites.includes(line.number));
                favoritesContent.innerHTML = favoriteLines.map(line => `
                    <div class="border-b border-gray-200 last:border-0 py-4">
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="text-lg font-bold">${line.number} - ${line.name}</h3>
                                <p class="text-gray-600">${line.route}</p>
                            </div>
                            <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">${line.status === 'active' ? 'Ativa' : 'Inativa'}</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-2">
                            <span>Frequência: ${line.frequency}</span>
                            <span>Operação: ${line.operation}</span>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Search functionality - real-time search
        searchInput.addEventListener('input', function() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            
            if (searchTerm === '') {
                searchResults.classList.add('hidden');
                return;
            }
            
            // Filter bus lines based on search term
            const filteredLines = busLines.filter(line => 
                line.number.toLowerCase().includes(searchTerm) || 
                line.name.toLowerCase().includes(searchTerm) ||
                line.route.toLowerCase().includes(searchTerm)
            );
            
            displaySearchResults(filteredLines);
        });

        // Button search (for users who prefer to click)
        searchButton.addEventListener('click', function() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            
            if (searchTerm === '') {
                alert('Por favor, digite um número ou nome de linha para buscar.');
                return;
            }
            
            // Filter bus lines based on search term
            const filteredLines = busLines.filter(line => 
                line.number.toLowerCase().includes(searchTerm) || 
                line.name.toLowerCase().includes(searchTerm) ||
                line.route.toLowerCase().includes(searchTerm)
            );
            
            displaySearchResults(filteredLines);
        });

        // Display search results
        function displaySearchResults(lines) {
            if (lines.length === 0) {
                resultsList.innerHTML = `
                    <div class="text-center py-8">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p class="text-gray-600">Nenhuma linha encontrada com o termo pesquisado.</p>
                        <p class="text-gray-500 text-sm mt-2">Tente buscar por número (ex: 5101) ou nome (ex: Savassi)</p>
                    </div>
                `;
            } else {
                resultsList.innerHTML = lines.map(line => `
                    <div class="border-b border-gray-200 last:border-0 py-4 cursor-pointer hover:bg-gray-50 px-2 rounded" onclick="showLineDetails(${line.id})">
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="text-lg font-bold">${line.number} - ${line.name}</h3>
                                <p class="text-gray-600">${line.route}</p>
                            </div>
                            <span class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">${line.status === 'active' ? 'Ativa' : 'Inativa'}</span>
                        </div>
                        <div class="flex justify-between text-sm text-gray-500 mt-2">
                            <span>Frequência: ${line.frequency}</span>
                            <span>Operação: ${line.operation}</span>
                        </div>
                    </div>
                `).join('');
            }
            
            searchResults.classList.remove('hidden');
            lineDetails.classList.add('hidden');
        }

        // Show line details
        window.showLineDetails = function(lineId) {
            const line = busLines.find(l => l.id === lineId);
            
            if (!line) return;
            
            // Format schedule for display
            const formatSchedule = (schedule) => {
                if (schedule.length === 0) return 'Nenhum horário disponível';
                
                // Group by hour for better readability
                const hours = {};
                schedule.forEach(time => {
                    const hour = time.split(':')[0];
                    if (!hours[hour]) hours[hour] = [];
                    hours[hour].push(time);
                });
                
                let result = '';
                Object.keys(hours).forEach(hour => {
                    result += `<div class="mb-2"><strong>${hour}h:</strong> ${hours[hour].join(', ')}</div>`;
                });
                
                return result;
            };
            
            detailContent.innerHTML = `
                <div class="mb-6">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-2xl font-bold">${line.number} - ${line.name}</h3>
                            <p class="text-gray-600 text-lg">${line.route}</p>
                        </div>
                        <span class="bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded">${line.status === 'active' ? 'Ativa' : 'Inativa'}</span>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-bold text-blue-800 mb-2">Informações da Linha</h4>
                            <p><strong>Frequência:</strong> ${line.frequency}</p>
                            <p><strong>Horário de Operação:</strong> ${line.operation}</p>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-bold text-gray-800 mb-2">Itinerário</h4>
                            <ul class="list-disc pl-5">
                                ${line.itinerary.map(stop => `<li>${stop}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-xl font-bold mb-4">Horários</h4>
                    
                    <div class="mb-6">
                        <h5 class="font-bold text-lg mb-2">Dias Úteis</h5>
                        <div class="bg-gray-50 p-4 rounded-lg max-h-60 overflow-y-auto">
                            ${formatSchedule(line.schedule.weekdays)}
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h5 class="font-bold text-lg mb-2">Sábados</h5>
                        <div class="bg-gray-50 p-4 rounded-lg max-h-60 overflow-y-auto">
                            ${formatSchedule(line.schedule.saturdays)}
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h5 class="font-bold text-lg mb-2">Domingos e Feriados</h5>
                        <div class="bg-gray-50 p-4 rounded-lg max-h-60 overflow-y-auto">
                            ${formatSchedule(line.schedule.sundays)}
                        </div>
                    </div>
                </div>
                
                <div class="mt-6 pt-6 border-t border-gray-200">
                    <button onclick="goBackToResults()" class="bg-primary hover:bg-gray-800 text-white px-4 py-2 rounded-lg font-medium">
                        Voltar para resultados
                    </button>
                </div>
            `;
            
            searchResults.classList.add('hidden');
            lineDetails.classList.remove('hidden');
        }

        // Go back to search results
        window.goBackToResults = function() {
            lineDetails.classList.add('hidden');
            searchResults.classList.remove('hidden');
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateCopyright();
            initializeFavorites();
            
            // Start real-time updates simulation
            setInterval(simulateRealTimeUpdates, 30000); // Update every 30 seconds
        });
    </script>
</body>
</html>
